{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"cover-container\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"./img/cover.png\",\n  alt: \"\",\n  srcset: \"\",\n  class: \"cover-photo\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"img-container\"\n};\nconst _hoisted_4 = {\n  class: \"img-left\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"name\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"img-right\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"edit-profile-btn\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-pencil fa-lg\"\n}), /*#__PURE__*/_createTextVNode(\"Edit profile \")])], -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"profile-description-container\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-briefcase fa-sm\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-phone fa-sm\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-envelope fa-sm\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"modal-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: `http://localhost:8080/${$data.profilePic}`,\n    alt: \"\",\n    id: \"profile-pic\"\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"h2\", _hoisted_6, _toDisplayString($data.userName), 1 /* TEXT */)]), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, [_hoisted_9, _createTextVNode(\"Office: \" + _toDisplayString($data.officeLocation), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_10, _createTextVNode(\"Phone No. \" + _toDisplayString($data.phoneNumber), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_11, _createTextVNode(\"Email: \" + _toDisplayString($data.email), 1 /* TEXT */)])])]), _createElementVNode(\"form\", {\n    class: \"form\",\n    id: \"modal-form\",\n    style: _normalizeStyle({\n      display: $data.formVisible ? 'block' : 'none'\n    })\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedUser.username = $event),\n    type: \"text\",\n    placeholder: \"Username\",\n    class: \"input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.username]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedUser.office = $event),\n    type: \"text\",\n    placeholder: \"Office\",\n    class: \"input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.office]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.selectedUser.email = $event),\n    type: \"text\",\n    placeholder: \"Email\",\n    class: \"input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.email]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.selectedUser.phone_no = $event),\n    type: \"text\",\n    placeholder: \"Phone No.\",\n    class: \"input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.phone_no]]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.saveUser && $options.saveUser(...args), [\"prevent\"]))\n  }, \"Save\"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = _withModifiers((...args) => _ctx.closeForm && _ctx.closeForm(...args), [\"prevent\"]))\n  }, \"Close\")])], 4 /* STYLE */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","src","alt","srcset","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","profilePic","id","_hoisted_6","_toDisplayString","userName","_hoisted_7","_hoisted_8","_hoisted_9","officeLocation","_hoisted_10","phoneNumber","_hoisted_11","email","style","_normalizeStyle","display","formVisible","selectedUser","username","$event","type","placeholder","office","phone_no","_hoisted_12","onClick","_cache","_withModifiers","args","$options","saveUser","_ctx","closeForm"],"sources":["C:\\laragon\\www\\EUPPER-SYSTEM\\src\\components\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <div class=\"cover-container\">\r\n      <img src=\"./img/cover.png\" alt=\"\" srcset=\"\" class=\"cover-photo\" />\r\n    </div>\r\n    <div class=\"img-container\">\r\n      <div class=\"img-left\">\r\n        <img\r\n          :src=\"`http://localhost:8080/${profilePic}`\"\r\n          alt=\"\"\r\n          id=\"profile-pic\"\r\n        />\r\n        <h2 class=\"name\">{{ userName }}</h2>\r\n      </div>\r\n      <div class=\"img-right\">\r\n        <button class=\"edit-profile-btn\">\r\n          <i class=\"fa-solid fa-pencil fa-lg\"></i>Edit profile\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"profile-description-container\">\r\n      <p>\r\n        <i class=\"fa-solid fa-briefcase fa-sm\"></i>Office: {{ officeLocation }}\r\n      </p>\r\n      <p><i class=\"fa-solid fa-phone fa-sm\"></i>Phone No. {{ phoneNumber }}</p>\r\n      <p><i class=\"fa-solid fa-envelope fa-sm\"></i>Email: {{ email }}</p>\r\n    </div>\r\n  </div>\r\n  <form\r\n    class=\"form\"\r\n    id=\"modal-form\"\r\n    :style=\"{ display: formVisible ? 'block' : 'none' }\"\r\n  >\r\n    <input\r\n      v-model=\"selectedUser.username\"\r\n      type=\"text\"\r\n      placeholder=\"Username\"\r\n      class=\"input\"\r\n    />\r\n    <input\r\n      v-model=\"selectedUser.office\"\r\n      type=\"text\"\r\n      placeholder=\"Office\"\r\n      class=\"input\"\r\n    />\r\n    <input\r\n      v-model=\"selectedUser.email\"\r\n      type=\"text\"\r\n      placeholder=\"Email\"\r\n      class=\"input\"\r\n    />\r\n    <input\r\n      v-model=\"selectedUser.phone_no\"\r\n      type=\"text\"\r\n      placeholder=\"Phone No.\"\r\n      class=\"input\"\r\n    />\r\n    <div class=\"modal-buttons\">\r\n      <button @click.prevent=\"saveUser\">Save</button>\r\n      <button @click.prevent=\"closeForm\">Close</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      userId: null,\r\n      userName: \"\",\r\n      profilePic: \"\",\r\n      officeLocation: \"\",\r\n      phoneNumber: \"\",\r\n      email: \"\",\r\n      formVisible: false,\r\n      selectedUser: {\r\n        userId: null,\r\n        username: \"\",\r\n        office: \"\",\r\n        phone_no: \"\",\r\n        email: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    // Retrieve user information from session storage\r\n    const storedUserId = sessionStorage.getItem(\"id\");\r\n\r\n    // Check if the user is logged in\r\n    if (storedUserId) {\r\n      // Make an Axios request to fetch user data based on session ID\r\n      axios\r\n        .get(`/getUserData/${storedUserId}`)\r\n        .then((response) => {\r\n          // Update the component's data with the fetched user data\r\n          const userData = response.data;\r\n          this.userId = userData.id;\r\n          this.userName = userData.username;\r\n          this.officeLocation = userData.office;\r\n          this.phoneNumber = userData.phone_no;\r\n          this.email = userData.email;\r\n          this.profilePic = userData.image;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching user data:\", error);\r\n        });\r\n    }\r\n  },\r\n  methods: {\r\n    openForm() {\r\n      // When the \"Edit profile\" button is clicked, set the formVisible to true\r\n      this.formVisible = true;\r\n\r\n      // Populate the form fields with the current user's data\r\n      this.selectedUser = {\r\n        userId: this.userId,\r\n        username: this.userName,\r\n        office: this.officeLocation,\r\n        phone_no: this.phoneNumber,\r\n        email: this.email,\r\n      };\r\n    },\r\n    async saveUser() {\r\n      try {\r\n        const response = await axios.post(\"/api/saveUser\", this.selectedUser);\r\n\r\n        if (response.status === 200) {\r\n          const responseData = response.data;\r\n\r\n          if (responseData && responseData.success) {\r\n            console.log(responseData.message);\r\n            this.formVisible = false;\r\n            this.getUsersInfo();\r\n          } else {\r\n            console.error(\"Save failed:\", responseData.message);\r\n          }\r\n        } else {\r\n          console.error(`Unexpected response status: ${response.status}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error saving admin:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#modal-form {\r\n  position: absolute;\r\n  width: 50%;\r\n  top: 15%;\r\n  left: 25%;\r\n  display: none;\r\n}\r\n\r\n.modal-buttons {\r\n  display: flex;\r\n  justify-content: end;\r\n  width: 100%;\r\n  gap: 1rem;\r\n  padding-top: 1rem;\r\n}\r\n.profile-container {\r\n  height: 91vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  color: var(--dark);\r\n}\r\n.cover-container {\r\n  position: absolute;\r\n  display: flex;\r\n  height: 45%;\r\n  width: 100%;\r\n  align-items: flex-end;\r\n}\r\n.cover-photo {\r\n  height: 92%;\r\n  width: 100%;\r\n}\r\n.img-container {\r\n  display: flex;\r\n  height: 38%;\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  margin-top: 11.5rem;\r\n  z-index: 1;\r\n}\r\n.img-left {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 75%;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n.img-right {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 25%;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.edit-profile-btn {\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 0.5rem;\r\n  background: var(--blue);\r\n  color: white;\r\n}\r\n#profile-pic {\r\n  height: 90%;\r\n  background-color: white;\r\n  border-radius: 50%;\r\n}\r\n.profile-description-container {\r\n  height: 38%;\r\n  width: 100%;\r\n  padding: 1rem;\r\n  line-height: 2rem;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}