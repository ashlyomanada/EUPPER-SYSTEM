{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      formData: {\n        username: \"\",\n        sender: \"\",\n        message: \"\"\n      },\n      showAlert: false,\n      alertMessage: \"\",\n      userId: null,\n      userName: \"\",\n      profilePic: \"\",\n      officeLocation: \"\",\n      phoneNumber: \"\",\n      email: \"\"\n    };\n  },\n  methods: {\n    submitForm() {\n      // Send form data to server\n      console.log(\"Form data:\", this.formData);\n      axios.post(\"/sendEmail\", this.formData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        console.log(response.data);\n        this.formData = {\n          username: \"\",\n          sender: \"\",\n          message: \"\"\n        };\n        this.showAlertMessage(\"Form submitted successfully!\");\n      }).catch(error => {\n        console.error(\"Error sending email:\", error);\n        this.showAlertMessage(\"Error submitting the form. Please try again.\");\n      });\n    },\n    showAlertMessage(message) {\n      this.showAlert = true;\n      this.alertMessage = message;\n\n      // Hide the alert after a certain duration (e.g., 5 seconds)\n      setTimeout(() => {\n        this.showAlert = false;\n        this.alertMessage = \"\";\n      }, 5000);\n    },\n    async fetchUserData() {\n      const storedUserId = sessionStorage.getItem(\"id\");\n      if (storedUserId) {\n        try {\n          const response = await axios.get(`/getUserData/${storedUserId}`);\n          if (response.status === 200) {\n            const userData = response.data;\n            this.userId = userData.user_id;\n            this.userName = userData.username;\n            this.officeLocation = userData.office;\n            this.phoneNumber = userData.phone_no;\n            this.email = userData.email;\n            this.profilePic = userData.image;\n          } else {\n            console.error(`Unexpected response status: ${response.status}`);\n          }\n        } catch (error) {\n          console.error(\"Error fetching user data:\", error);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","formData","username","sender","message","showAlert","alertMessage","userId","userName","profilePic","officeLocation","phoneNumber","email","methods","submitForm","console","log","post","headers","then","response","showAlertMessage","catch","error","setTimeout","fetchUserData","storedUserId","sessionStorage","getItem","get","status","userData","user_id","office","phone_no","image"],"sources":["C:\\laragon\\www\\EUPPER-SYSTEM\\src\\components\\RequestForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"table-data\">\r\n    <div class=\"order\">\r\n      <div class=\"head\">\r\n        <h3>Request Form</h3>\r\n      </div>\r\n      <form class=\"form\" @submit.prevent=\"submitForm\">\r\n        <input\r\n          v-model=\"formData.username\"\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          class=\"input\"\r\n        />\r\n        <input\r\n          v-model=\"formData.sender\"\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          class=\"input\"\r\n        />\r\n        <textarea\r\n          v-model=\"formData.message\"\r\n          placeholder=\"Type message\"\r\n        ></textarea>\r\n        <button type=\"submit\">Submit Request</button>\r\n      </form>\r\n      <div v-if=\"showAlert\" class=\"alert\">\r\n        {{ alertMessage }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formData: {\r\n        username: \"\",\r\n        sender: \"\",\r\n        message: \"\",\r\n      },\r\n      showAlert: false,\r\n      alertMessage: \"\",\r\n      userId: null,\r\n      userName: \"\",\r\n      profilePic: \"\",\r\n      officeLocation: \"\",\r\n      phoneNumber: \"\",\r\n      email: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      // Send form data to server\r\n      console.log(\"Form data:\", this.formData);\r\n      axios\r\n        .post(\"/sendEmail\", this.formData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.formData = {\r\n            username: \"\",\r\n            sender: \"\",\r\n            message: \"\",\r\n          };\r\n          this.showAlertMessage(\"Form submitted successfully!\");\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error sending email:\", error);\r\n          this.showAlertMessage(\"Error submitting the form. Please try again.\");\r\n        });\r\n    },\r\n    showAlertMessage(message) {\r\n      this.showAlert = true;\r\n      this.alertMessage = message;\r\n\r\n      // Hide the alert after a certain duration (e.g., 5 seconds)\r\n      setTimeout(() => {\r\n        this.showAlert = false;\r\n        this.alertMessage = \"\";\r\n      }, 5000);\r\n    },\r\n    async fetchUserData() {\r\n      const storedUserId = sessionStorage.getItem(\"id\");\r\n\r\n      if (storedUserId) {\r\n        try {\r\n          const response = await axios.get(`/getUserData/${storedUserId}`);\r\n\r\n          if (response.status === 200) {\r\n            const userData = response.data;\r\n            this.userId = userData.user_id;\r\n            this.userName = userData.username;\r\n            this.officeLocation = userData.office;\r\n            this.phoneNumber = userData.phone_no;\r\n            this.email = userData.email;\r\n            this.profilePic = userData.image;\r\n          } else {\r\n            console.error(`Unexpected response status: ${response.status}`);\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching user data:\", error);\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.form {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n  background: var(--light);\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.form .title {\r\n  color: royalblue;\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  letter-spacing: -1px;\r\n  line-height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.form input {\r\n  outline: 0;\r\n  border: 1px solid rgb(219, 213, 213);\r\n  padding: 8px 14px;\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  height: 50px;\r\n  color: var(--dark);\r\n}\r\n\r\n.form textarea {\r\n  border-radius: 8px;\r\n  height: 100px;\r\n  width: 100%;\r\n  resize: none;\r\n  outline: 0;\r\n  padding: 8px 14px;\r\n  border: 1px solid rgb(219, 213, 213);\r\n  color: var(--dark);\r\n}\r\n\r\n.form button {\r\n  align-self: flex-end;\r\n  padding: 8px;\r\n  outline: 0;\r\n  border: 0;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  background-color: royalblue;\r\n  color: #fff;\r\n  cursor: pointer;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .form {\r\n    width: 100vw;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAiCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE,EAAE;QACVC,OAAO,EAAE;MACX,CAAC;MACDC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,EAAE;MAChBC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,cAAc,EAAE,EAAE;MAClBC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX;MACAC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACf,QAAQ,CAAC;MACxCF,KAAI,CACDkB,IAAI,CAAC,YAAY,EAAE,IAAI,CAAChB,QAAQ,EAAE;QACjCiB,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,EACAC,IAAI,CAAEC,QAAQ,IAAK;QAClBL,OAAO,CAACC,GAAG,CAACI,QAAQ,CAACpB,IAAI,CAAC;QAC1B,IAAI,CAACC,QAAO,GAAI;UACdC,QAAQ,EAAE,EAAE;UACZC,MAAM,EAAE,EAAE;UACVC,OAAO,EAAE;QACX,CAAC;QACD,IAAI,CAACiB,gBAAgB,CAAC,8BAA8B,CAAC;MACvD,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBR,OAAO,CAACQ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,IAAI,CAACF,gBAAgB,CAAC,8CAA8C,CAAC;MACvE,CAAC,CAAC;IACN,CAAC;IACDA,gBAAgBA,CAACjB,OAAO,EAAE;MACxB,IAAI,CAACC,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACC,YAAW,GAAIF,OAAO;;MAE3B;MACAoB,UAAU,CAAC,MAAM;QACf,IAAI,CAACnB,SAAQ,GAAI,KAAK;QACtB,IAAI,CAACC,YAAW,GAAI,EAAE;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IACD,MAAMmB,aAAaA,CAAA,EAAG;MACpB,MAAMC,YAAW,GAAIC,cAAc,CAACC,OAAO,CAAC,IAAI,CAAC;MAEjD,IAAIF,YAAY,EAAE;QAChB,IAAI;UACF,MAAMN,QAAO,GAAI,MAAMrB,KAAK,CAAC8B,GAAG,CAAE,gBAAeH,YAAa,EAAC,CAAC;UAEhE,IAAIN,QAAQ,CAACU,MAAK,KAAM,GAAG,EAAE;YAC3B,MAAMC,QAAO,GAAIX,QAAQ,CAACpB,IAAI;YAC9B,IAAI,CAACO,MAAK,GAAIwB,QAAQ,CAACC,OAAO;YAC9B,IAAI,CAACxB,QAAO,GAAIuB,QAAQ,CAAC7B,QAAQ;YACjC,IAAI,CAACQ,cAAa,GAAIqB,QAAQ,CAACE,MAAM;YACrC,IAAI,CAACtB,WAAU,GAAIoB,QAAQ,CAACG,QAAQ;YACpC,IAAI,CAACtB,KAAI,GAAImB,QAAQ,CAACnB,KAAK;YAC3B,IAAI,CAACH,UAAS,GAAIsB,QAAQ,CAACI,KAAK;UAClC,OAAO;YACLpB,OAAO,CAACQ,KAAK,CAAE,+BAA8BH,QAAQ,CAACU,MAAO,EAAC,CAAC;UACjE;QACF,EAAE,OAAOP,KAAK,EAAE;UACdR,OAAO,CAACQ,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACnD;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}