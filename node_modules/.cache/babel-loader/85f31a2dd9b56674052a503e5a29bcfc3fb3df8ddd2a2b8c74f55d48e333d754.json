{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"head-title\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"left\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  id: \"dashboardTitle\"\n}, \"Dashboard\")])], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"dash-box\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Select Year:\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"findRate\"\n}, \"Get Ratings\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"box-info\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bx bxs-calendar-check\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"text\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Ratings\", -1 /* HOISTED */);\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bx bxs-group\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"text\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Users\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bx bxs-calendar-check\"\n}), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", null, \"0\"), /*#__PURE__*/_createElementVNode(\"p\", null, \"Announcements\")])], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_pie_chart = _resolveComponent(\"pie-chart\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_createVNode(_component_pie_chart, {\n    \"chart-data\": $data.pieChartData,\n    \"chart-options\": $data.pieChartOptions\n  }, null, 8 /* PROPS */, [\"chart-data\", \"chart-options\"]), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.fetchData && $options.fetchData(...args), [\"prevent\"])),\n    class: \"year-container\"\n  }, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"selectedYear\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedYear = $event),\n    min: \"2000\",\n    max: \"2100\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedYear]]), _hoisted_4], 32 /* HYDRATE_EVENTS */)]), _createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"li\", null, [_hoisted_6, _createElementVNode(\"span\", _hoisted_7, [_createElementVNode(\"h3\", null, _toDisplayString($data.ratingCount), 1 /* TEXT */), _hoisted_8])]), _createElementVNode(\"li\", null, [_hoisted_9, _createElementVNode(\"span\", _hoisted_10, [_createElementVNode(\"h3\", null, _toDisplayString($data.userCount), 1 /* TEXT */), _hoisted_11])]), _hoisted_12])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","id","type","_hoisted_1","_hoisted_2","_createVNode","_component_pie_chart","$data","pieChartData","pieChartOptions","onSubmit","_cache","_withModifiers","args","$options","fetchData","_hoisted_3","selectedYear","$event","min","max","required","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","ratingCount","_hoisted_8","_hoisted_9","_hoisted_10","userCount","_hoisted_11","_hoisted_12"],"sources":["C:\\laragon\\www\\EUPPER-SYSTEM\\src\\components\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"head-title\">\r\n    <div class=\"left\">\r\n      <h1 id=\"dashboardTitle\">Dashboard</h1>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"dash-box\">\r\n    <div>\r\n      <pie-chart\r\n        :chart-data=\"pieChartData\"\r\n        :chart-options=\"pieChartOptions\"\r\n      ></pie-chart>\r\n      <form @submit.prevent=\"fetchData\" class=\"year-container\">\r\n        <label>Select Year:</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"selectedYear\"\r\n          v-model=\"selectedYear\"\r\n          min=\"2000\"\r\n          max=\"2100\"\r\n          required\r\n        />\r\n        <button type=\"submit\" class=\"findRate\">Get Ratings</button>\r\n      </form>\r\n    </div>\r\n    <ul class=\"box-info\">\r\n      <li>\r\n        <i class=\"bx bxs-calendar-check\"></i>\r\n        <span class=\"text\">\r\n          <h3>{{ ratingCount }}</h3>\r\n          <p>Ratings</p>\r\n        </span>\r\n      </li>\r\n      <li>\r\n        <i class=\"bx bxs-group\"></i>\r\n        <span class=\"text\">\r\n          <h3>{{ userCount }}</h3>\r\n          <p>Users</p>\r\n        </span>\r\n      </li>\r\n      <li>\r\n        <i class=\"bx bxs-calendar-check\"></i>\r\n        <span class=\"text\">\r\n          <h3>0</h3>\r\n          <p>Announcements</p>\r\n        </span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PieChart from \"./PieChart.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      ratingCount: 0,\r\n      userCount: 0,\r\n      selectedYear: new Date().getFullYear(),\r\n      pieChartData: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: [],\r\n            hoverBackgroundColor: [],\r\n          },\r\n        ],\r\n      },\r\n      pieChartOptions: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    PieChart,\r\n  },\r\n  mounted() {\r\n    this.fetchRatingCount();\r\n    this.fetchUserCount();\r\n    this.fetchData();\r\n  },\r\n  methods: {\r\n    async fetchRatingCount() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8080/countUserRatings\");\r\n        const data = await response.json();\r\n        this.ratingCount = data.count;\r\n        //console.log(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching rating count:\", error);\r\n      }\r\n    },\r\n    async fetchUserCount() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8080/countUser\");\r\n        const data = await response.json();\r\n        this.userCount = data.count;\r\n        //console.log(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching rating count:\", error);\r\n      }\r\n    },\r\n\r\n    async fetchData() {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:8080/calculateRatings\"\r\n        );\r\n        const data = response.data;\r\n        this.pieChartData.labels = data.months;\r\n        this.pieChartData.datasets[0].data = data.ratingsArray;\r\n        this.pieChartData.datasets[0].backgroundColor = data.backgroundColor;\r\n        this.pieChartData.datasets[0].hoverBackgroundColor =\r\n          data.hoverBackgroundColor;\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.dash-box {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: 0.5fr;\r\n}\r\n.findRate {\r\n  background: green;\r\n  padding: 0.2rem 0.5rem;\r\n  color: white;\r\n}\r\n.year-container {\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n#selectedYear {\r\n  display: inline-block;\r\n}\r\n</style>\r\n"],"mappings":";gCACEA,mBAAA,CAIM;EAJDC,KAAK,EAAC;AAAY,I,aACrBD,mBAAA,CAEM;EAFDC,KAAK,EAAC;AAAM,I,aACfD,mBAAA,CAAsC;EAAlCE,EAAE,EAAC;AAAgB,GAAC,WAAS,E;;EAIhCD,KAAK,EAAC;AAAU;gCAOfD,mBAAA,CAA2B,eAApB,cAAY;gCASnBA,mBAAA,CAA2D;EAAnDG,IAAI,EAAC,QAAQ;EAACF,KAAK,EAAC;GAAW,aAAW;;EAGlDA,KAAK,EAAC;AAAU;gCAEhBD,mBAAA,CAAqC;EAAlCC,KAAK,EAAC;AAAuB;;EAC1BA,KAAK,EAAC;AAAM;gCAEhBD,mBAAA,CAAc,WAAX,SAAO;gCAIZA,mBAAA,CAA4B;EAAzBC,KAAK,EAAC;AAAc;;EACjBA,KAAK,EAAC;AAAM;iCAEhBD,mBAAA,CAAY,WAAT,OAAK;iCAGZA,mBAAA,CAMK,a,aALHA,mBAAA,CAAqC;EAAlCC,KAAK,EAAC;AAAuB,I,aAChCD,mBAAA,CAGO;EAHDC,KAAK,EAAC;AAAM,I,aAChBD,mBAAA,CAAU,YAAN,GAAC,G,aACLA,mBAAA,CAAoB,WAAjB,eAAa,E;;;6DA5CxBI,UAIM,EAENJ,mBAAA,CA0CM,OA1CNK,UA0CM,GAzCJL,mBAAA,CAiBM,cAhBJM,YAAA,CAGaC,oBAAA;IAFV,YAAU,EAAEC,KAAA,CAAAC,YAAY;IACxB,eAAa,EAAED,KAAA,CAAAE;4DAElBV,mBAAA,CAWO;IAXAW,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;IAAEb,KAAK,EAAC;MACtCgB,UAA2B,E,gBAC3BjB,mBAAA,CAOE;IANAG,IAAI,EAAC,QAAQ;IACbD,EAAE,EAAC,cAAc;+DACRM,KAAA,CAAAU,YAAY,GAAAC,MAAA;IACrBC,GAAG,EAAC,MAAM;IACVC,GAAG,EAAC,MAAM;IACVC,QAAQ,EAAR;iDAHSd,KAAA,CAAAU,YAAY,E,GAKvBK,UAA2D,C,8BAG/DvB,mBAAA,CAsBK,MAtBLwB,UAsBK,GArBHxB,mBAAA,CAMK,aALHyB,UAAqC,EACrCzB,mBAAA,CAGO,QAHP0B,UAGO,GAFL1B,mBAAA,CAA0B,YAAA2B,gBAAA,CAAnBnB,KAAA,CAAAoB,WAAW,kBAClBC,UAAc,C,KAGlB7B,mBAAA,CAMK,aALH8B,UAA4B,EAC5B9B,mBAAA,CAGO,QAHP+B,WAGO,GAFL/B,mBAAA,CAAwB,YAAA2B,gBAAA,CAAjBnB,KAAA,CAAAwB,SAAS,kBAChBC,WAAY,C,KAGhBC,WAMK,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}